<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:p="http://primefaces.org/ui" xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core" >
    <h:head>
        <title>PersonalTech</title>
    </h:head>
    <script src="./newjavascript.js"></script>
    <h:body>
        <h:form id="menu">
        <ui:include src="/menuSecundario.xhtml" />
            <p:separator />
            <p:panel id="panel" header="Personal Tech - Cadastrar aluno" footer="PersonalTech">
                <p:panelGrid columns="3" >

                    <h:outputLabel for="primeiroNome" value="Primeiro Nome: " />
                    <p:inputText id="primeiroNome" value="#{AlunoBean.entidade.nome}" label="Primeiro nome" required="true" maxlength="20"/>
                    <p:message id="msgPrimeiroNome" for="primeiroNome"/>

                    <h:outputLabel for="ultimoNome" value="Último Nome: " />
                    <p:inputText id="ultimoNome" value="#{AlunoBean.entidade.sobrenome}" label="Último nome" required="true" maxlength="20"/>
                    <p:message id="msgUltimoNome" for="ultimoNome"/>

                    <h:outputLabel for="cpf" value="CPF: " />
                    <p:inputMask id="cpf" value="#{AlunoBean.entidade.cpf}" label="CPF" mask="999.999.999-99" required="true" maxlength="14"/>
                    <p:message id="msgCpf" for="cpf"/>

                    <h:outputLabel for="sexo" value="Sexo: " />
                    <p:inputText id="sexo" value="#{AlunoBean.entidade.sexo}" label="Sexo" required="true" maxlength="14"/>
                    <p:message id="msgSexo" for="sexo"/>

                    <h:outputLabel for="email" value="Email: " />
                    <p:inputText id="email" value="#{AlunoBean.entidade.email}" label="Email" required="true" maxlength="24"/>
                    <p:message id="msgEmail" for="email"/>

                    <h:outputLabel for="dataNasc" value="Data de Nascimento: " />
                    <p:calendar id="dataNasc" value="#{AlunoBean.entidade.dataNascimento}" mask="99/99/9999" ></p:calendar>
                    <p:message id="msgDataNasc" for="dataNasc"/>

                    <h:outputLabel for="login" value="Login: " />
                    <p:inputText id="login" value="#{AlunoBean.entidade.login}" label="Login" required="true" maxlength="14"/>
                    <p:message id="msgLogin" for="login"/>

                    <h:outputLabel for="senha" value="Senha: " />
                    <p:password id="senha" value="#{AlunoBean.entidade.senha}" label="Senha" required="true" maxlength="14" feedback="true" inline="true"/>
                    <p:message id="msgSenha" for="senha"/>

                    <h:outputLabel for="cep" value="CEP: " />
                    <p:inputMask id="cep" value="#{AlunoBean.entidade.endereco.cep}" label="CEP" mask="99999-999" required="true" maxlength="14" onchange="buscarCep(String(this.value).replace('-', ''));"/>
                    <p:message id="msgCep" for="cep"></p:message>
                    
                    <h:outputLabel for="rua" value="Rua: " />
                    <p:inputText id="rua" value="#{AlunoBean.entidade.endereco.logradouro}" label="Rua" required="true" maxlength="200" />
                    <p:message id="msgRua" for="rua"/>
                    
                    <h:outputLabel for="bairro" value="Bairro: " />
                    <p:inputText id="bairro" value="#{AlunoBean.entidade.endereco.bairro}" label="Bairro" required="true" maxlength="14"/>
                    <p:message id="msgBairro" for="bairro"/>



                    <h:outputLabel for="cidade" value="Cidade: " />
                    <p:inputText id="cidade" value="#{AlunoBean.entidade.endereco.cidade}" label="Cidade" required="true" maxlength="14"/>
                    <p:message id="msgCidade" for="cidade"/>

                    <h:outputLabel for="estado" value="Estado: " />
                    <p:inputText id="estado" value="#{AlunoBean.entidade.endereco.estado}" label="Estado" required="true" maxlength="14"/>
                    <p:message id="msgEstado" for="estado"/>



                    <h:outputLabel for="numero" value="Numero: " />
                    <p:inputText type="number" id="numero" value="#{AlunoBean.entidade.endereco.numero}" label="Numero" required="false" maxlength="14"/>
                    <p:message id="msgNumero" for="numero"/>

                </p:panelGrid>
                <br />
                <p:commandButton value="Salvar" oncomplete="PF('widDialCadAluno').show()"/>
            </p:panel>
            <p:dialog id="dialCadAluno" visible="false" modal="true"
                      resizable="false" 
                      widgetVar="widDialCadAluno">
                <f:facet name="header">
                    Atenção!!!
                </f:facet>


                <h:outputText value="Você realmente deseja registrar este aluno?"/><br/>
                <p:separator/>
                <p:commandButton value="sim" action="#{AlunoBean.salvar}"
                                 oncomplete="PF('widDialCadAluno').hide()"
                                 update="@form"/>
                <p:commandButton value="não" oncomplete="PF('widDialCadAluno').hide()"/>

            </p:dialog>
        </h:form>
    </h:body>
</html>